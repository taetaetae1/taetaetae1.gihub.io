
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="꿈꾸는 태태태의 공간">
    <title>소나큐브 이용 코드 정적분석 자동화 - 꿈꾸는 태태태의 공간</title>
    <meta name="author" content="taetaetae">
    
    
    
        <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"taetaetae","sameAs":["https://facebook.com/taetaetae0","https://www.linkedin.com/in/태관-권-517825129/","mailto:taetaetae_@naver.com"],"image":"profile.jpg"},"articleBody":"코드 정적분석이라 함은 실제 프로그램을 실행하지 않고 코드만의 형태에 대한 분석을 말한다. 이를테면 냄새나는 코드(?)라던지, 위험성이 있는 코드, 미리 정의된 규칙이나 코딩 표준을 준수하는지에 대한 분석을 말하는데 java 기준으로는 아래 다양한 (잘 알려진) 정적분석 도구들이 있다.\n\nPMD\n미사용 변수, 비어있는 코드 블락, 불필요한 오브젝트 생성과 같은 Defect을 유발할 수 있는 코드를 검사\nhttps://pmd.github.io\n\n\nFindBugs\n정해진 규칙에 의해 잠재적인 에러 타입을 찾아줌\nhttp://findbugs.sourceforge.net\n\n\nCheckStyle\n정해진 코딩 룰을 잘 따르고 있는지에 대한 분석\nhttp://checkstyle.sourceforge.net\n\n\n\n이외에 SonarQube 라는 툴이 있는데 개인적으로 위 알려진 다른 툴들의 종합판(?)이라고 생각이 들었고, 그중 가장 인상깊었던 기능이 github과 연동이 되고 적절한 구성을 하게 되면 코드를 수정하는과 동시에 자동으로 분석을 하고 리포팅까지 해준다는 부분이였다. ( 더 좋은 방법이 있는지는 모르겠으나 다른 도구들은 수동으로 돌려줘야 하고 리포팅 또한 Active하지 못한(?) 아쉬운 점이 있었다.  )\n지금부터 Jenkins + github web-hook + SonarQube 를 구성하여 코드를 수정하고 PullRequest를 올리게 되면 수정한 파일에 대해 자동으로 정적분석이 이뤄지고, 그에대한 리포팅이 해당 PullRequest에 댓글로 달리도록 설정을 해보겠다. (코드리뷰를 봇(?)이 자동으로 해주는게 얼마나 편한 일인가…)\n# 기본 컨셉전체적인 컨셉은 다음 그림과 같다.전체 컨셉전체 컨셉\n\nIDE에서 코드수정을 하고 remote 저장소에 commit &amp; push를 한다.그 다음 github에서 master(혹은 stable한 branch)에 대해 작업 branch를 PullRequest 올린다.\n미리 등록한 github의 web-hook에 의해 PullRequest 정보들을 jenkins에 전송한다. \n전달받은 정보를 재 가공하여 SonarQube로 정적분석을 요청한다.\nSonarQube에서 분석한 정보를 다시 jenkins로 return 해준다.\nSonarQube으로부터 return 받은 정보를 해당 PullRequest의 댓글에 리포팅을 해준다.\n\n간단히 보면 (뭐 간단하니 쉽네~) 라고 볼수도 있겠지만 나는 이런 전체 흐름을 설정하는데 있어 어려웠다.\n\n사실 셋팅하는 과정에서 적지않은 삽질을 했었기에, 이 포스팅을 적는 이유일수도 있겠다.더불어 검색을 해봐도 이렇게 전체흐름이 정리된 글이 잘 안보여서 + 내가 한 삽질을 다른 누군가도 할것같아서(?)\n\n# Maven 설치기본적으로 Maven의 H2DB를 사용하므로 SonarQube를 설치하기전에 Maven부터 설치해줘야 한다.123456$ wget http://apache.mirror.cdnetworks.com/maven/maven-3/3.5.2/binaries/apache-maven-3.5.2-bin.tar.gz$ tar -zxvf apache-maven-3.5.2-bin.tar.gz(환경변수 셋팅후 )$  mvn -versionApache Maven 3.5.2 (138edd61fd100ec658bfa2d307c43b76940a5d7d; 2017-10-18T16:58:13+09:00)...\n# SonarQube 설치정적분석을 도와주는 SonarQube를 설치해보자.123456$ wget https://sonarsource.bintray.com/Distribution/sonarqube/sonarqube-6.7.1.zip$ unzip sonarqube-6.7.1.zip$ cd sonarqube-6.7.1/bin/linux-x86-64$ ./sonar.sh startStarting SonarQube...Started SonarQube.\n기본적으로 9000포트를 사용하고 있으니 다른포트를 사용하고자 한다면 /sonarqube-6.7.1/conf/sonar.properties 내 sonar.web.port=9000 을 수정해주면 된다. (SonarQube도 Elasticsearch를 사용하구나…)설치후 실행을 한뒤 서버IP:9000을 접속해보면 아래 화면처럼 나온다. (혹시 접속이 안된다거나 서버가 실행이 안된다면 ./sonar.sh console로 로그를 보면 문제해결에 도움이 될수도 있다. )SonarQube 메인화면SonarQube 메인화면\n# SonarQube Scanner 설치소스를 연동시켜 정적분석을 하기 위해서는 SonarQube Scanner 라는게 필요하다고 한다. 아래 url에서 다운받아 적절한 곳에 압축을 풀어두자.https://docs.sonarqube.org/display/SCAN/Analyzing+with+SonarQube+Scanner12$ wget https://sonarsource.bintray.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-3.0.3.778-linux.zip$ unzip sonar-scanner-cli-3.0.3.778-linux.zip\n# jenkins 설치 및 SonarQube 연동jenkins 설치는 간단하니 별도 언급은 안하고 넘어가…려고 했으나, 하나부터 열까지 정리한다는 마음으로~https://jenkins.io/download/ 에서 최신버전을 tomcat/webapps/ 아래에 다운받고 server.xml 을 적절하게 수정해준다.12345$ wget http://mirrors.jenkins.io/war-stable/latest/jenkins.war$ vi tomcat/conf/server.xml&lt;Connector port=&quot;19001&quot; protocol=&quot;HTTP/1.1&quot; # 포트 변경&lt;Context path=&quot;/jenkins&quot; debug=&quot;0&quot; privileged=&quot;true&quot; docBase=&quot;jenkins.war&quot; /&gt; #추가# tomcat/bin/startup.sh\njenkins 설치를 완료 한 후 필요한 플러그인을 추가로 설치해준다.\n\nPython Plugin\nGitHub Pull Request Builder\nGitHub plugin\n\n접속 : 서버IP:19001 (참고로 한 서버에서 다 설치하다보니 port 충돌을 신경쓰게되었다. )처음 jenkins를 실행하면 이런저런 설정을 하는데 특별한 설정 변경없이 next버튼을 연신 눌러면 설치가 완료 되고, SonarQube를 사용하기 위해 SonarQube Scanner for Jenkins라는 플러그인을 설치해주자. (이건 각 버전마다 궁합(?)이 안맞을수도 있으니 확인이 필요할수도 있다. 내가 설치한 버전은 jenkins 2.89, SonarQube Plugin 2.6.1이다.)설치를 하면 jenkins &gt; configure 에서 SonarQube servers정보를 등록해준다.SonarQube 젠킨스 설정SonarQube 젠킨스 설정authentication token 은 SonarQube에 처음 접속했을때 아래화면을 볼수 있는데, 여기서 authentication token을 발급받을수 있다. 또한 language 와 build 방법을 선택하자. (이부분은 나중에 변경이 가능하니 개발상황에 맞춰서 설정하면 될듯하다.)authentication token 발급authentication token 발급그 다음 jenkins &gt; configureTools 에서 SonarQube scanner 정보를 다음 화면과 같이 등록해준다.SonarQube scanner 젠킨스 설정SonarQube scanner 젠킨스 설정우선 여기까지 하면 jenkins 와 SonarQube 연동은 된걸로 보면 된다.\n# Github과 Jenkins 연동앞서 설명한 전체 컨셉 그림과 같이 github 에 pullRequest가 발생하면 web-hook을 이용하여 jenkins로 정보를 전달하는 방식인데, 이럴려면 우선 github과 jenkins가 연동이된 상태여야 한다. 관련 방법은 아래 링크에 정리를 해놨으니 참고해도 좋을듯 하다.\n\nGithub과 Jenkins 연동하기\n\n# Jenkins job 등록Jenkins job은 두개를 만들어 줘야 한다.\n\n1번 job pullrequest_receiver : github으로부터 web-hook을 통해 pullRequest정보를 받는 job\n2번 job sonaqube-job : 1번 job으로 부터 정보를 받아 SonarQube를 이용해 정적분석후 해당 pullRequest에 댓글로 리포팅 하는 Job\n\n- 1번 job편의상 job 이름은 pullrequest_receiver으로 정하였고, 매개변수로 String Parameter에 이름은 payload라 정하였다. 그리고 Build 에서 Execute Python 으로 아래 코드를 실행하도록 하였다.12345678910111213141516import  os, json, sys, requestsurl = 'http://~~~/jenkins/job/sonaqube-job'hookData = json.loads(os.environ['payload'])branch = hookData['pull_request']['head']['ref'];prId = hookData['pull_request']['number'];componentName = hookData['repository']['name'];if action == 'closed' or action == 'synchronize' or action == 'assigned' : # 이 부분은 적절하게 수정이 필요하다.  sys.exit(0)repository = hookData['repository']['full_name']url = url + '/buildWithParameters?branch=' + branch + '&amp;pr=' + str(prId) + '&amp;repository=' + repository + '&amp;componentName=' + componentNameresponse = requests.post(url)\nWebHook을 이용해서 Jenkins Job을 실행시키는 과정은 아래 링크에 별도로 정리해놨으니 참고해도 좋을듯 하다.\n\nGithub의 WebHook을 이용하여 자동 Jenkins Job 실행\n\n위와 같이 설정을 하고 pullRequest가 발생을 하면 해당 Job이 실행이 되면서 정보들을 적절하게 조합하여 2번 job으로 보내게 된다. 여기서 job을 하나로 나누지 않고 github정보를 받는 job, SonarQube 분석 job 이렇게 두개로 나눈 이유는 여러 Repository에 대해서 셋팅을 하고 싶은경우 Repository에서는  1번 job으로 쏘게 하고 1번 job내부에서 payload의 정보를 분석하여 Repository별 SonarQube 분석 job url로 보내면 되기 때문이다. 1번 job 은 하나, 2번 job은 Repository 별로 분기 되는 구조.\n- 2번 jobSonarQube job을 작성할 차례다. 1번 job에서 파라미터를 보내주기 때문에 역시 2번 job에서도 파라미터를 미리 받도록 설정해주자.\n\n파라미터 목록\npr\nbranch\nrepository\ncomponentName\n\n\n\n이 job에서는 SonarQube 분석이 되는데, 해당 repo에 대한 접근권한이 있어야 하기 때문에 앞서 설정한 Github과 Jenkins 연동 방법으로 Repository 와 Credentials 을 지정해주고, 브랜치 경로 또한 파라미터로 받은 값으로 지정해 준다.소스코드 관리 설정소스코드 관리 설정\n마지막으로 최종 목적이였던 SonarQube 분석을 할 차례인데, 이번에 SonarQube가 버전업이 되면서 java 기분 .java 파일만 가지고 하는게 아니라 .java파일을 컴파일 하면 나오는 .class파일 경로를 필수로 지정해줘야 한다고 한다. (예전에는 .class 파일 경로를 지정하지 않아도 되었는데 홈페이지 설명에 의하면 바이너리 파일까지 같이 분석하게 되면 분석 신뢰도가 높아진다고 한다.)https://docs.sonarqube.org/display/PLUG/Java+Plugin+and+Bytecode\n\n딴 이야기로, 난 여태까지 정적분석이라는건 코드만을 가지고 하는줄 알았다. 자바 기준에서는 .java . 하지만 이번에 SonarQube 설정을 하면서 알게된 부분으로, 정적분석이라는건 맨 위에 적어놨듯 실제 프로그램을 실행하지 않고 코드만의 형태에 대한 분석 이기 때문에 java 기준에서는 .class 파일또한 분석의 대상으로 볼수가 있다. (실제로 구버전 - .java만 분석 / 신버전 - .java + .class 분석 을 해봤더니 불필요한 분석결과(?)가 줄어든것을 알수 있었다. )\n\n그래서 결국 컴파일을 한 뒤에 SonarQube 분석을 하면 되겠다.빌드 및 SonarQube 분석 설정빌드 및 SonarQube 분석 설정SonarQube 설정파일은 다음과 같다.1234567891011121314151617sonar.projectKey=$&#123;componentName&#125; # 유니크한 프로젝트 키 네이밍 값sonar.projectVersion=0.1sonar.sourceEncoding=UTF-8 sonar.analysis.mode=preview sonar.github.repository=$&#123;repository&#125;sonar.github.endpoint=https://api.github.cosonar.github.login= # github login idsonar.github.oauth= # github 개인키sonar.login=adminsonar.password=admin sonar.github.pullRequest=$&#123;pr&#125;sonar.host.url= # SonarQube urlsonar.issuesReport.console.enable=true sonar.github.disableInlineComments=truesonar.sources=.sonar.exclusions=sonar.java.binaries=target/classes # 빌드 결과물 경로\n이렇게 긴~~과정을 거치고 나면 pullRequest 를 올릴때마다 아래 그림처럼 수정한 파일에 대해서 자동으로 분석을 하여 알려준다.SonarQube 분석결과SonarQube 분석결과\n또한 분석결과에 따라 (이 부분은 SonarQube 설정으로 조정이 가능할것같다) merge 가 가능/불가능이 조정되어 진다.SonarQube 분석 중 critical 항목이 없어서 merge 가능한 화면SonarQube 분석 중 critical 항목이 없어서 merge 가능한 화면\n# 마치며반복적인 일에 대해서 자동화 구성을 한다는것은 참 의미있는 일인것 같다. 팀내 이런 구성을 도입하구서 획기적으로 코드 품질이 나아지진 않았지만 자칫 잘못해서 merge가 되는 위험한 코드들은 어느정도 SonarQube가 잡아주는것 같다. 사족이지만, 이렇게 적고나니 간단한데 이런 구성에 대한 정보를 알기까지는 엄청난 시간이 들었기에… 오랜만의 포스팅에 대한 뿌듯함을 다시한번 느낀다.\n","dateCreated":"2018-02-08T20:10:54+09:00","dateModified":"2019-05-30T17:14:51+09:00","datePublished":"2018-02-08T20:10:54+09:00","description":"코드 정적분석이라 함은 실제 프로그램을 실행하지 않고 코드만의 형태에 대한 분석을 말한다. 이를테면 냄새나는 코드(?)라던지, 위험성이 있는 코드, 미리 정의된 규칙이나 코딩 표준을 준수하는지에 대한 분석을 말하는데 java 기준으로는 아래 다양한 (잘 알려진) 정적분석 도구들이 있다.","headline":"소나큐브 이용 코드 정적분석 자동화","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://taetaetae.github.io/2018/02/08/jenkins-sonar-github-integration/"},"publisher":{"@type":"Organization","name":"taetaetae","sameAs":["https://facebook.com/taetaetae0","https://www.linkedin.com/in/태관-권-517825129/","mailto:taetaetae_@naver.com"],"image":"profile.jpg","logo":{"@type":"ImageObject","url":"profile.jpg"}},"url":"https://taetaetae.github.io/2018/02/08/jenkins-sonar-github-integration/","keywords":"jenkins, github, SonarQube, integration"}</script>
    <meta name="description" content="코드 정적분석이라 함은 실제 프로그램을 실행하지 않고 코드만의 형태에 대한 분석을 말한다. 이를테면 냄새나는 코드(?)라던지, 위험성이 있는 코드, 미리 정의된 규칙이나 코딩 표준을 준수하는지에 대한 분석을 말하는데 java 기준으로는 아래 다양한 (잘 알려진) 정적분석 도구들이 있다.">
<meta name="keywords" content="jenkins,github,SonarQube,integration">
<meta property="og:type" content="blog">
<meta property="og:title" content="소나큐브 이용 코드 정적분석 자동화">
<meta property="og:url" content="https://taetaetae.github.io/2018/02/08/jenkins-sonar-github-integration/index.html">
<meta property="og:site_name" content="꿈꾸는 태태태의 공간">
<meta property="og:description" content="코드 정적분석이라 함은 실제 프로그램을 실행하지 않고 코드만의 형태에 대한 분석을 말한다. 이를테면 냄새나는 코드(?)라던지, 위험성이 있는 코드, 미리 정의된 규칙이나 코딩 표준을 준수하는지에 대한 분석을 말하는데 java 기준으로는 아래 다양한 (잘 알려진) 정적분석 도구들이 있다.">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2019-05-30T08:14:51.970Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="소나큐브 이용 코드 정적분석 자동화">
<meta name="twitter:description" content="코드 정적분석이라 함은 실제 프로그램을 실행하지 않고 코드만의 형태에 대한 분석을 말한다. 이를테면 냄새나는 코드(?)라던지, 위험성이 있는 코드, 미리 정의된 규칙이나 코딩 표준을 준수하는지에 대한 분석을 말하는데 java 기준으로는 아래 다양한 (잘 알려진) 정적분석 도구들이 있다.">
<meta name="twitter:image" content="https://taetaetae.github.io/2018/02/08/jenkins-sonar-github-integration/concept.png">
    
    
        
    
    
    
    
    
        <meta property="og:image" content="https://taetaetae.github.io/assets/images/profile.jpg"/>
    

    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/all.css">
    <link rel="stylesheet" href="/assets/css/jquery.fancybox.css">
    <link rel="stylesheet" href="/assets/css/thumbs.css">
    <link rel="stylesheet" href="/assets/css/tranquilpeak.css">
    <!--STYLES END-->
    
    <script type="text/javascript">
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-86432198-1', 'auto');
        ga('send', 'pageview');
    </script>


    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
  google_ad_client: "ca-pub-5788330009690816",
  enable_page_level_ads: true
  });
</script>
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="5">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">꿈꾸는 태태태의 공간</a>
    </div>
    
        
            <a  class="header-right-picture "
                href="#about">
        
        
            <img class="header-picture" src="/assets/images/profile.jpg" alt="Author&#39;s picture"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="5">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a href="/#about">
                    <img class="sidebar-profile-picture" src="/assets/images/profile.jpg" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">taetaetae</h4>
                
                    <h5 class="sidebar-profile-bio"><p>Programmer</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/ "
                            
                            title="Home"
                        >
                    
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-categories"
                            
                            title="Categories"
                        >
                    
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-tags"
                            
                            title="Tags"
                        >
                    
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-archives"
                            
                            title="Archives"
                        >
                    
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="#about"
                            
                            title="About"
                        >
                    
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://facebook.com/taetaetae0" target="_blank" rel="noopener" title="Facebook">
                    
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://www.linkedin.com/in/태관-권-517825129/" target="_blank" rel="noopener" title="LinkedIn">
                    
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="mailto:taetaetae_@naver.com" target="_blank" rel="noopener" title="Mail">
                    
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/atom.xml"
                            
                            title="RSS"
                        >
                    
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>    
    <ins class="adsbygoogle"
   style="display:inline-block;max-width:250px;width:100%;max-height:380px;height:100%"
   data-ad-client="ca-pub-5788330009690816">
</ins>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
</nav>

            
            <div id="main" data-behavior="5"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    <div class="main-content-wrap">
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- blog -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-5788330009690816"
     data-ad-slot="9180895229"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
        <script src="https://ads-partners.coupang.com/g.js"></script>
        <script>
             new PartnersCoupang.G({
                 id: 195296,
                 width: '100%',
                 height: 120,
                 bordered: false
             });
        </script>
    </div>
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            소나큐브 이용 코드 정적분석 자동화
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2018-02-08T20:10:54+09:00">
	
		    Feb 08, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/tech/">tech</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <p><code>코드 정적분석</code>이라 함은 실제 프로그램을 실행하지 않고 코드만의 형태에 대한 분석을 말한다. 이를테면 냄새나는 코드(?)라던지, 위험성이 있는 코드, 미리 정의된 규칙이나 코딩 표준을 준수하는지에 대한 분석을 말하는데 java 기준으로는 아래 다양한 (잘 알려진) 정적분석 도구들이 있다.<a id="more"></a></p>
<ul>
<li>PMD<ul>
<li>미사용 변수, 비어있는 코드 블락, 불필요한 오브젝트 생성과 같은 Defect을 유발할 수 있는 코드를 검사</li>
<li><a href="https://pmd.github.io" target="_blank" rel="noopener">https://pmd.github.io</a></li>
</ul>
</li>
<li>FindBugs<ul>
<li>정해진 규칙에 의해 잠재적인 에러 타입을 찾아줌</li>
<li><a href="http://findbugs.sourceforge.net" target="_blank" rel="noopener">http://findbugs.sourceforge.net</a></li>
</ul>
</li>
<li>CheckStyle<ul>
<li>정해진 코딩 룰을 잘 따르고 있는지에 대한 분석</li>
<li><a href="http://checkstyle.sourceforge.net" target="_blank" rel="noopener">http://checkstyle.sourceforge.net</a></li>
</ul>
</li>
</ul>
<p>이외에 <code>SonarQube</code> 라는 툴이 있는데 개인적으로 위 알려진 다른 툴들의 종합판(?)이라고 생각이 들었고, 그중 가장 인상깊었던 기능이 github과 연동이 되고 적절한 구성을 하게 되면 코드를 수정하는과 동시에 자동으로 분석을 하고 리포팅까지 해준다는 부분이였다. ( <del>더 좋은 방법이 있는지는 모르겠으나</del> 다른 도구들은 수동으로 돌려줘야 하고 리포팅 또한 Active하지 못한(?) 아쉬운 점이 있었다.  )</p>
<p>지금부터 Jenkins + github web-hook + SonarQube 를 구성하여 코드를 수정하고 PullRequest를 올리게 되면 수정한 파일에 대해 자동으로 정적분석이 이뤄지고, 그에대한 리포팅이 해당 PullRequest에 댓글로 달리도록 설정을 해보겠다. (코드리뷰를 봇(?)이 자동으로 해주는게 얼마나 편한 일인가…)</p>
<h3 id="기본-컨셉"><a href="#기본-컨셉" class="headerlink" title="# 기본 컨셉"></a># 기본 컨셉</h3><p>전체적인 컨셉은 다음 그림과 같다.<br><div class="figure center" style="width:;"><img class="fig-img" src="concept.png" alt="전체 컨셉"><span class="image-caption">전체 컨셉</span><span class="caption">전체 컨셉</span></div></p>
<ol>
<li>IDE에서 코드수정을 하고 remote 저장소에 commit &amp; push를 한다.<br>그 다음 github에서 master(혹은 stable한 branch)에 대해 작업 branch를 PullRequest 올린다.</li>
<li>미리 등록한 github의 web-hook에 의해 PullRequest 정보들을 jenkins에 전송한다. </li>
<li>전달받은 정보를 재 가공하여 SonarQube로 정적분석을 요청한다.</li>
<li>SonarQube에서 분석한 정보를 다시 jenkins로 return 해준다.</li>
<li>SonarQube으로부터 return 받은 정보를 해당 PullRequest의 댓글에 리포팅을 해준다.</li>
</ol>
<p>간단히 보면 (뭐 간단하니 쉽네~) 라고 볼수도 있겠지만 나는 이런 전체 흐름을 설정하는데 있어 어려웠다.</p>
<blockquote>
<p>사실 셋팅하는 과정에서 적지않은 삽질을 했었기에, 이 포스팅을 적는 이유일수도 있겠다.<br>더불어 검색을 해봐도 이렇게 전체흐름이 정리된 글이 잘 안보여서 + 내가 한 삽질을 다른 누군가도 할것같아서(?)</p>
</blockquote>
<h3 id="Maven-설치"><a href="#Maven-설치" class="headerlink" title="# Maven 설치"></a># Maven 설치</h3><p>기본적으로 Maven의 H2DB를 사용하므로 SonarQube를 설치하기전에 Maven부터 설치해줘야 한다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ wget http://apache.mirror.cdnetworks.com/maven/maven-3/3.5.2/binaries/apache-maven-3.5.2-bin.tar.gz</span><br><span class="line">$ tar -zxvf apache-maven-3.5.2-bin.tar.gz</span><br><span class="line">(환경변수 셋팅후 )</span><br><span class="line">$  mvn -version</span><br><span class="line">Apache Maven 3.5.2 (138edd61fd100ec658bfa2d307c43b76940a5d7d; 2017-10-18T16:58:13+09:00)</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<h3 id="SonarQube-설치"><a href="#SonarQube-설치" class="headerlink" title="# SonarQube 설치"></a># SonarQube 설치</h3><p>정적분석을 도와주는 SonarQube를 설치해보자.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ wget https://sonarsource.bintray.com/Distribution/sonarqube/sonarqube-6.7.1.zip</span><br><span class="line">$ unzip sonarqube-6.7.1.zip</span><br><span class="line">$ cd sonarqube-6.7.1/bin/linux-x86-64</span><br><span class="line">$ ./sonar.sh start</span><br><span class="line">Starting SonarQube...</span><br><span class="line">Started SonarQube.</span><br></pre></td></tr></table></figure></p>
<p>기본적으로 9000포트를 사용하고 있으니 다른포트를 사용하고자 한다면 /sonarqube-6.7.1/conf/sonar.properties 내 <code>sonar.web.port=9000</code> 을 수정해주면 된다. (SonarQube도 Elasticsearch를 사용하구나…)<br>설치후 실행을 한뒤 <code>서버IP:9000</code>을 접속해보면 아래 화면처럼 나온다. (혹시 접속이 안된다거나 서버가 실행이 안된다면 <code>./sonar.sh console</code>로 로그를 보면 문제해결에 도움이 될수도 있다. )<br><div class="figure center" style="width:;"><img class="fig-img" src="sonar_main.png" alt="SonarQube 메인화면"><span class="image-caption">SonarQube 메인화면</span><span class="caption">SonarQube 메인화면</span></div></p>
<h3 id="SonarQube-Scanner-설치"><a href="#SonarQube-Scanner-설치" class="headerlink" title="# SonarQube Scanner 설치"></a># SonarQube Scanner 설치</h3><p>소스를 연동시켜 정적분석을 하기 위해서는 SonarQube Scanner 라는게 필요하다고 한다. 아래 url에서 다운받아 적절한 곳에 압축을 풀어두자.<br><a href="https://docs.sonarqube.org/display/SCAN/Analyzing+with+SonarQube+Scanner" target="_blank" rel="noopener">https://docs.sonarqube.org/display/SCAN/Analyzing+with+SonarQube+Scanner</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ wget https://sonarsource.bintray.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-3.0.3.778-linux.zip</span><br><span class="line">$ unzip sonar-scanner-cli-3.0.3.778-linux.zip</span><br></pre></td></tr></table></figure></p>
<h3 id="jenkins-설치-및-SonarQube-연동"><a href="#jenkins-설치-및-SonarQube-연동" class="headerlink" title="# jenkins 설치 및 SonarQube 연동"></a># jenkins 설치 및 SonarQube 연동</h3><p>jenkins 설치는 간단하니 별도 언급은 안하고 넘어가…려고 했으나, 하나부터 열까지 정리한다는 마음으로~<br><a href="https://jenkins.io/download/" target="_blank" rel="noopener">https://jenkins.io/download/</a> 에서 최신버전을 tomcat/webapps/ 아래에 다운받고 server.xml 을 적절하게 수정해준다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ wget http://mirrors.jenkins.io/war-stable/latest/jenkins.war</span><br><span class="line">$ vi tomcat/conf/server.xml</span><br><span class="line">&lt;Connector port=&quot;19001&quot; protocol=&quot;HTTP/1.1&quot; # 포트 변경</span><br><span class="line">&lt;Context path=&quot;/jenkins&quot; debug=&quot;0&quot; privileged=&quot;true&quot; docBase=&quot;jenkins.war&quot; /&gt; #추가</span><br><span class="line"># tomcat/bin/startup.sh</span><br></pre></td></tr></table></figure></p>
<p>jenkins 설치를 완료 한 후 필요한 플러그인을 추가로 설치해준다.</p>
<ul>
<li>Python Plugin</li>
<li>GitHub Pull Request Builder</li>
<li>GitHub plugin</li>
</ul>
<p>접속 : <code>서버IP:19001</code> (참고로 한 서버에서 다 설치하다보니 port 충돌을 신경쓰게되었다. )<br>처음 jenkins를 실행하면 이런저런 설정을 하는데 특별한 설정 변경없이 next버튼을 연신 눌러면 설치가 완료 되고, SonarQube를 사용하기 위해 <code>SonarQube Scanner for Jenkins</code>라는 플러그인을 설치해주자. (이건 각 버전마다 궁합(?)이 안맞을수도 있으니 확인이 필요할수도 있다. 내가 설치한 버전은 jenkins 2.89, SonarQube Plugin 2.6.1이다.)<br>설치를 하면 jenkins &gt; configure 에서 <code>SonarQube servers</code>정보를 등록해준다.<br><div class="figure center" style="width:;"><img class="fig-img" src="jenkins_sonarqube_config.png" alt="SonarQube 젠킨스 설정"><span class="image-caption">SonarQube 젠킨스 설정</span><span class="caption">SonarQube 젠킨스 설정</span></div><br>authentication token 은 SonarQube에 처음 접속했을때 아래화면을 볼수 있는데, 여기서 authentication token을 발급받을수 있다. 또한 language 와 build 방법을 선택하자. (이부분은 나중에 변경이 가능하니 개발상황에 맞춰서 설정하면 될듯하다.)<br><div class="figure center" style="width:;"><img class="fig-img" src="authentication.png" alt="authentication token 발급"><span class="image-caption">authentication token 발급</span><span class="caption">authentication token 발급</span></div><br>그 다음 jenkins &gt; configureTools 에서 SonarQube scanner 정보를 다음 화면과 같이 등록해준다.<br><div class="figure center" style="width:;"><img class="fig-img" src="jenkins_sonarqube_scanner.png" alt="SonarQube scanner 젠킨스 설정"><span class="image-caption">SonarQube scanner 젠킨스 설정</span><span class="caption">SonarQube scanner 젠킨스 설정</span></div><br>우선 여기까지 하면 jenkins 와 SonarQube 연동은 된걸로 보면 된다.</p>
<h3 id="Github과-Jenkins-연동"><a href="#Github과-Jenkins-연동" class="headerlink" title="# Github과 Jenkins 연동"></a># Github과 Jenkins 연동</h3><p>앞서 설명한 전체 컨셉 그림과 같이 github 에 pullRequest가 발생하면 web-hook을 이용하여 jenkins로 정보를 전달하는 방식인데, 이럴려면 우선 github과 jenkins가 연동이된 상태여야 한다. 관련 방법은 아래 링크에 정리를 해놨으니 참고해도 좋을듯 하다.</p>
<blockquote>
<p><a href="/2018/02/08/github-with-jenkins">Github과 Jenkins 연동하기</a></p>
</blockquote>
<h3 id="Jenkins-job-등록"><a href="#Jenkins-job-등록" class="headerlink" title="# Jenkins job 등록"></a># Jenkins job 등록</h3><p>Jenkins job은 두개를 만들어 줘야 한다.</p>
<ul>
<li>1번 job <code>pullrequest_receiver</code> : github으로부터 web-hook을 통해 pullRequest정보를 받는 job</li>
<li>2번 job <code>sonaqube-job</code> : 1번 job으로 부터 정보를 받아 SonarQube를 이용해 정적분석후 해당 pullRequest에 댓글로 리포팅 하는 Job</li>
</ul>
<h5 id="1번-job"><a href="#1번-job" class="headerlink" title="- 1번 job"></a>- 1번 job</h5><p>편의상 job 이름은 <code>pullrequest_receiver</code>으로 정하였고, 매개변수로 <code>String Parameter</code>에 이름은 <code>payload</code>라 정하였다. 그리고 Build 에서 Execute Python 으로 아래 코드를 실행하도록 하였다.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>  os, json, sys, requests</span><br><span class="line"></span><br><span class="line">url = <span class="string">'http://~~~/jenkins/job/sonaqube-job'</span></span><br><span class="line">hookData = json.loads(os.environ[<span class="string">'payload'</span>])</span><br><span class="line">branch = hookData[<span class="string">'pull_request'</span>][<span class="string">'head'</span>][<span class="string">'ref'</span>];</span><br><span class="line">prId = hookData[<span class="string">'pull_request'</span>][<span class="string">'number'</span>];</span><br><span class="line">componentName = hookData[<span class="string">'repository'</span>][<span class="string">'name'</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> action == <span class="string">'closed'</span> <span class="keyword">or</span> action == <span class="string">'synchronize'</span> <span class="keyword">or</span> action == <span class="string">'assigned'</span> : <span class="comment"># 이 부분은 적절하게 수정이 필요하다.</span></span><br><span class="line">  sys.exit(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">repository = hookData[<span class="string">'repository'</span>][<span class="string">'full_name'</span>]</span><br><span class="line"></span><br><span class="line">url = url + <span class="string">'/buildWithParameters?branch='</span> + branch + <span class="string">'&amp;pr='</span> + str(prId) + <span class="string">'&amp;repository='</span> + repository + <span class="string">'&amp;componentName='</span> + componentName</span><br><span class="line"></span><br><span class="line">response = requests.post(url)</span><br></pre></td></tr></table></figure></p>
<p>WebHook을 이용해서 Jenkins Job을 실행시키는 과정은 아래 링크에 별도로 정리해놨으니 참고해도 좋을듯 하다.</p>
<blockquote>
<p><a href="/2018/02/08/github-web-hook-jenkins-job-excute">Github의 WebHook을 이용하여 자동 Jenkins Job 실행</a></p>
</blockquote>
<p>위와 같이 설정을 하고 pullRequest가 발생을 하면 해당 Job이 실행이 되면서 정보들을 적절하게 조합하여 2번 job으로 보내게 된다. 여기서 job을 하나로 나누지 않고 <code>github정보를 받는 job</code>, <code>SonarQube 분석 job</code> 이렇게 두개로 나눈 이유는 여러 Repository에 대해서 셋팅을 하고 싶은경우 Repository에서는  <code>1번 job</code>으로 쏘게 하고 <code>1번 job</code>내부에서 payload의 정보를 분석하여 Repository별 SonarQube 분석 job url로 보내면 되기 때문이다. 1번 job 은 하나, 2번 job은 Repository 별로 분기 되는 구조.</p>
<h5 id="2번-job"><a href="#2번-job" class="headerlink" title="- 2번 job"></a>- 2번 job</h5><p>SonarQube job을 작성할 차례다. 1번 job에서 파라미터를 보내주기 때문에 역시 2번 job에서도 파라미터를 미리 받도록 설정해주자.</p>
<ul>
<li>파라미터 목록<ul>
<li>pr</li>
<li>branch</li>
<li>repository</li>
<li>componentName</li>
</ul>
</li>
</ul>
<p>이 job에서는 SonarQube 분석이 되는데, 해당 repo에 대한 접근권한이 있어야 하기 때문에 앞서 설정한 <code>Github과 Jenkins 연동</code> 방법으로 Repository 와 Credentials 을 지정해주고, 브랜치 경로 또한 파라미터로 받은 값으로 지정해 준다.<br><div class="figure center" style="width:;"><img class="fig-img" src="jenkins_config_source.png" alt="소스코드 관리 설정"><span class="image-caption">소스코드 관리 설정</span><span class="caption">소스코드 관리 설정</span></div></p>
<p>마지막으로 최종 목적이였던 SonarQube 분석을 할 차례인데, 이번에 SonarQube가 버전업이 되면서 java 기분 .java 파일만 가지고 하는게 아니라 .java파일을 컴파일 하면 나오는 .class파일 경로를 필수로 지정해줘야 한다고 한다. (예전에는 .class 파일 경로를 지정하지 않아도 되었는데 홈페이지 설명에 의하면 바이너리 파일까지 같이 분석하게 되면 분석 신뢰도가 높아진다고 한다.)<br><a href="https://docs.sonarqube.org/display/PLUG/Java+Plugin+and+Bytecode" target="_blank" rel="noopener">https://docs.sonarqube.org/display/PLUG/Java+Plugin+and+Bytecode</a></p>
<blockquote>
<p>딴 이야기로, 난 여태까지 정적분석이라는건 코드만을 가지고 하는줄 알았다. 자바 기준에서는 .java . 하지만 이번에 SonarQube 설정을 하면서 알게된 부분으로, 정적분석이라는건 맨 위에 적어놨듯 <code>실제 프로그램을 실행하지 않고 코드만의 형태에 대한 분석</code> 이기 때문에 java 기준에서는 .class 파일또한 분석의 대상으로 볼수가 있다. (실제로 구버전 - .java만 분석 / 신버전 - .java + .class 분석 을 해봤더니 불필요한 분석결과(?)가 줄어든것을 알수 있었다. )</p>
</blockquote>
<p>그래서 결국 컴파일을 한 뒤에 SonarQube 분석을 하면 되겠다.<br><div class="figure center" style="width:;"><img class="fig-img" src="build_sonarqube_config.png" alt="빌드 및 SonarQube 분석 설정"><span class="image-caption">빌드 및 SonarQube 분석 설정</span><span class="caption">빌드 및 SonarQube 분석 설정</span></div><br>SonarQube 설정파일은 다음과 같다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">sonar.projectKey=$&#123;componentName&#125; # 유니크한 프로젝트 키 네이밍 값</span><br><span class="line">sonar.projectVersion=0.1</span><br><span class="line">sonar.sourceEncoding=UTF-8 </span><br><span class="line">sonar.analysis.mode=preview </span><br><span class="line">sonar.github.repository=$&#123;repository&#125;</span><br><span class="line">sonar.github.endpoint=https://api.github.co</span><br><span class="line">sonar.github.login= # github login id</span><br><span class="line">sonar.github.oauth= # github 개인키</span><br><span class="line">sonar.login=admin</span><br><span class="line">sonar.password=admin </span><br><span class="line">sonar.github.pullRequest=$&#123;pr&#125;</span><br><span class="line">sonar.host.url= # SonarQube url</span><br><span class="line">sonar.issuesReport.console.enable=true </span><br><span class="line">sonar.github.disableInlineComments=true</span><br><span class="line">sonar.sources=.</span><br><span class="line">sonar.exclusions=</span><br><span class="line">sonar.java.binaries=target/classes # 빌드 결과물 경로</span><br></pre></td></tr></table></figure></p>
<p>이렇게 긴~~과정을 거치고 나면 pullRequest 를 올릴때마다 아래 그림처럼 수정한 파일에 대해서 자동으로 분석을 하여 알려준다.<br><div class="figure center" style="width:;"><img class="fig-img" src="sonar_result_report.png" alt="SonarQube 분석결과"><span class="image-caption">SonarQube 분석결과</span><span class="caption">SonarQube 분석결과</span></div></p>
<p>또한 분석결과에 따라 (이 부분은 SonarQube 설정으로 조정이 가능할것같다) merge 가 가능/불가능이 조정되어 진다.<br><div class="figure center" style="width:;"><img class="fig-img" src="sonar_result.png" alt="SonarQube 분석 중 critical 항목이 없어서 merge 가능한 화면"><span class="image-caption">SonarQube 분석 중 critical 항목이 없어서 merge 가능한 화면</span><span class="caption">SonarQube 분석 중 critical 항목이 없어서 merge 가능한 화면</span></div></p>
<h3 id="마치며"><a href="#마치며" class="headerlink" title="# 마치며"></a># 마치며</h3><p>반복적인 일에 대해서 자동화 구성을 한다는것은 참 의미있는 일인것 같다. 팀내 이런 구성을 도입하구서 획기적으로 코드 품질이 나아지진 않았지만 자칫 잘못해서 merge가 되는 위험한 코드들은 어느정도 SonarQube가 잡아주는것 같다. 사족이지만, 이렇게 적고나니 간단한데 이런 구성에 대한 정보를 알기까지는 엄청난 시간이 들었기에… 오랜만의 포스팅에 대한 뿌듯함을 다시한번 느낀다.</p>

            

        </div>
    </div>
    <style>.bmc-button img{width: 27px !important;margin-bottom: 1px !important;box-shadow: none !important;border: none !important;vertical-align: middle !important;}.bmc-button{line-height: 36px !important;height:37px !important;text-decoration: none !important;display:inline-flex !important;color:#000000 !important;background-color:#FFDD00 !important;border-radius: 3px !important;border: 1px solid transparent !important;padding: 1px 9px !important;font-size: 22px !important;letter-spacing: 0.6px !important;box-shadow: 0px 1px 2px rgba(190, 190, 190, 0.5) !important;-webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;margin: 0 auto !important;font-family:'Cookie', cursive !important;-webkit-box-sizing: border-box !important;box-sizing: border-box !important;-o-transition: 0.3s all linear !important;-webkit-transition: 0.3s all linear !important;-moz-transition: 0.3s all linear !important;-ms-transition: 0.3s all linear !important;transition: 0.3s all linear !important;}.bmc-button:hover, .bmc-button:active, .bmc-button:focus {-webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;text-decoration: none !important;box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;opacity: 0.85 !important;color:#000000 !important;}</style><link href="https://fonts.googleapis.com/css?family=Cookie" rel="stylesheet"><center><br><a class="bmc-button" target="_blank" href="https://www.buymeacoffee.com/taetaetae"><img src="https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg" alt="Buy me a coffee"><span style="margin-left:5px">Buy me a coffee</span></a>
    <!--<br><a href="http://www.naver.com"><img src="https://i.imgur.com/ietEvly.png" style="height:46px"></a>-->
    </center>
    <div id="post-footer" class="post-footer main-content-wrap">
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- blog -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-5788330009690816"
     data-ad-slot="9180895229"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-link" href="/tags/SonarQube/">SonarQube</a> <a class="tag tag--primary tag--small t-link" href="/tags/github/">github</a> <a class="tag tag--primary tag--small t-link" href="/tags/integration/">integration</a> <a class="tag tag--primary tag--small t-link" href="/tags/jenkins/">jenkins</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2018/03/17/rest-client-exception/" data-tooltip="RestClientException 처리" aria-label="PREVIOUS: RestClientException 처리">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2018/02/08/github-web-hook-jenkins-job-excute/" data-tooltip="Github의 WebHook을 이용하여 자동 Jenkins Job 실행" aria-label="NEXT: Github의 WebHook을 이용하여 자동 Jenkins Job 실행">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://taetaetae.github.io/2018/02/08/jenkins-sonar-github-integration/" title="Share on Facebook">
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://taetaetae.github.io/2018/02/08/jenkins-sonar-github-integration/" title="Share on Twitter">
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://taetaetae.github.io/2018/02/08/jenkins-sonar-github-integration/" title="Share on Google+">
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a class="post-action-btn btn btn--default" href="#disqus_thread">
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                
        <!--  utteranc comment -->
        
        <script src="https://utteranc.es/client.js"
                repo="taetaetae/blog-comment"
                issue-term="pathname"
                label="Comment"
                theme="github-light"
                crossorigin="anonymous"
                async>
        </script>
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2020 taetaetae. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2018/03/17/rest-client-exception/" data-tooltip="RestClientException 처리" aria-label="PREVIOUS: RestClientException 처리">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2018/02/08/github-web-hook-jenkins-job-excute/" data-tooltip="Github의 WebHook을 이용하여 자동 Jenkins Job 실행" aria-label="NEXT: Github의 WebHook을 이용하여 자동 Jenkins Job 실행">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://taetaetae.github.io/2018/02/08/jenkins-sonar-github-integration/" title="Share on Facebook">
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://taetaetae.github.io/2018/02/08/jenkins-sonar-github-integration/" title="Share on Twitter">
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://taetaetae.github.io/2018/02/08/jenkins-sonar-github-integration/" title="Share on Google+">
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a class="post-action-btn btn btn--default" href="#disqus_thread">
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                <div id="share-options-bar" class="share-options-bar" data-behavior="5">
    <i id="btn-close-shareoptions" class="fa fa-times"></i>
    <ul class="share-options">
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://taetaetae.github.io/2018/02/08/jenkins-sonar-github-integration/">
                    <i class="fab fa-facebook" aria-hidden="true"></i><span>Share on Facebook</span>
                </a>
            </li>
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=https://taetaetae.github.io/2018/02/08/jenkins-sonar-github-integration/">
                    <i class="fab fa-twitter" aria-hidden="true"></i><span>Share on Twitter</span>
                </a>
            </li>
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=https://taetaetae.github.io/2018/02/08/jenkins-sonar-github-integration/">
                    <i class="fab fa-google-plus" aria-hidden="true"></i><span>Share on Google+</span>
                </a>
            </li>
        
    </ul>
</div>

            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/profile.jpg" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">taetaetae</h4>
        
            <div id="about-card-bio"><p>Programmer</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Naver Corp.</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker"></i>
                <br/>
                korea
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover_2.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/jquery.js"></script>
<script src="/assets/js/jquery.fancybox.js"></script>
<script src="/assets/js/thumbs.js"></script>
<script src="/assets/js/tranquilpeak.js"></script>
<!--SCRIPTS END-->

    
        <script>
             var disqus_config = function () {
                 this.page.url = 'https://taetaetae.github.io/2018/02/08/jenkins-sonar-github-integration/';
                 
                    this.page.identifier = '2018/02/08/jenkins-sonar-github-integration/';
                 
             };
            (function() {
                var d = document, s = d.createElement('script');
                var disqus_shortname = 'taetaetae';
                s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
    



    </body>
</html>
